---
layout: post
title: 'HTTP协议详解'
categories:
  - JavaScript
date: 2018-12-07 12:00:00
author: 'Itwebbers'
tags:
  - HTTP
  - HTTPS
  - 协议
---

# HTTP 协议

- http 协议的主要特点
  > 简单快速， 灵活， 无状态， 无连接
- http 报文的组成部分
  - 请求报文
    > 请求行，请求头，空行，请求体
  - 响应报文
    > 状态行，响应头，空行，响应体
- HTTP 方法
  1. POST 传输资源
  2. GET 获取资源
  3. DELETE 删除资源
  4. PUT 更新资源
  5. HEAD 获得报文首部
- POST 与 GET 的区别

  1. GET 在浏览器回退是无害的，而 POSt 会再次请求 \*
  2. GET 产生的 url 地址可以被收藏，而 post 不可以
  3. GET 请求会被浏览器主动缓存，而 POST 不会，除非你主动收藏 \*
  4. GET 请求只能进行 url 编码，而 POST 支持多种编码方式
  5. GET 请求参数会被完整保留在浏览器历史记录里，而 post 中的参数不会被保留 \*
  6. GET 请求在 URL 中传送参数是有长度限制的，而 POST 没有限制 \*
  7. 对参数的数据类型，GET 只接受 ASCII 字符，而 POST 没有限制
  8. GET 比 POST 更不安全，因为参数直接暴露在 URL 上，所以不能用来传递敏感信息
  9. GET 参数通过 URL 传递，POST 放在 Reuerst body 中 \*

  [get 与 post 区别](https://www.oschina.net/news/77354/http-get-post-different)

  [post 与 get 请求](https://www.zhihu.com/question/28586791)

- HTTP 状态码

  > > 100-199 信息性状态码
  > > 200-299 成功状态码
  > > 300-399 重定向状态码
  > > 400-499 客户端状态码
  > > 500-599 服务器状态码

  `常用状态码`

  - 200 成功
  - 206 请求部分资源成功
  - 301 当前请求重定向
  - 302 请求的所有资源都重定向
  - 304 已有缓存，可以继续使用
  - 400 客户端请求语法错误，不能被服务端解析
  - 401 请求未经授权
  - 403 对请求页面的访问被禁止
  - 404 请求资源不存在
  - 500 服务器错误
  - 503 请求未完成，服务器临时过载或当机

- 什么是持久化链接
  > 持久化连接减少了 TCP 连接的重复建立和断开所造成的额外开销，减轻了服务端的压力；另外，减少开销的那部分时间，使 HTTP 请求和响应能够更早的结束，这样 web 页面的显示速度也就相应的提高了。http 版本 1.1 支持 keep-Alive
- 什么是管线化
  > > `原理` 建立在 keep-Alive 的基础上，将请求打包发出去，再将响应打包发回来
  > > 管线化机制通过持久连接完成，仅 HTTP/1.1 支持此技术
  > > 只有 get 和 head 请求可以进行管线化，而 post 则有限制
  > > 初次连接的时候不应启动管线化，因为服务器不一定支持
- cookie 的状态管理
  - 没有 cookie 状态下的请求
    ![没有cookie状态下的请求](http://images2015.cnblogs.com/blog/938876/201612/938876-20161226142019148-996060572.png)
  - 第二次以后（存在 cookie 信息状态）的请求
    ![第二次以后（存在cookie信息状态）的请求](http://images2015.cnblogs.com/blog/938876/201612/938876-20161226142059726-1822981009.png)
